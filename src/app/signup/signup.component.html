<h2>Créer un compte</h2>

<form class="example-form" #signUpForm="ngForm">

  <mat-form-field class="full-width">
    <input matInput required
           placeholder="Nom" value=""
           [(ngModel)]="displayName"
           type="text"
           name="displayName">
    <button mat-button *ngIf="displayName" matSuffix mat-icon-button aria-label="Clear" (click)="displayName=''">
      <mat-icon>close</mat-icon>
    </button>
  </mat-form-field>

  <mat-form-field class="full-width">
    <input matInput [formControl]="emailFormControl" placeholder="Adresse mail" value=""
           [(ngModel)]="email" type="email" name="email">
    <button mat-button *ngIf="displayName" matSuffix mat-icon-button aria-label="Clear" (click)="email=''">
      <mat-icon>close</mat-icon>
    </button>
    <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
      S'il vous plaît, saisissez une adresse mail valid
    </mat-error>
    <mat-error *ngIf="emailFormControl.hasError('required')">
      Email est <strong>obligatoire</strong>
    </mat-error>
  </mat-form-field>

  <mat-form-field class="full-width">
    <input matInput required
           placeholder="Mot de passe"
           [type]="hide ? 'password' : 'text'"
           [(ngModel)]="password"
           name="password">
    <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>
  </mat-form-field>
</form>


<button mat-raised-button color="primary"
        [disabled]="!signUpForm.form.valid || emailFormControl.hasError('email') && !emailFormControl.hasError('required')"
        type="submit" (click)="signUp()"> S'inscrire
</button>




